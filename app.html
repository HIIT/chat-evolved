<!DOCTYPE html>
<html>
<head>
<title>HTML5 demo</title>
<script type='text/javascript' src='js/jquery-1.7.1.min.js'></script>
<script type='text/javascript' src='js/jquery-ui-1.8.18.custom.min.js'></script>  
<link rel='stylesheet' type='text/css' href='css/ui-lightness/jquery-ui-1.8.18.custom.css' />
<link rel='stylesheet' type='text/css' href='app.css' />
</head>
<body>

<input id='input'></input>

<button id='input-button'>Send</button>

<div id='conversation'>

</div>

<script>
function addLine(c, text) {
   var $c = $('<div>');
   $c.html( text );
   // magic
   var $i = $('<input>');
   var $b = $('<button>').html('Comment');
   var $cc = $('<div>');
   $cc.addClass('inline');
   $cc.append( $i );
   $cc.append( $b );
   $cc.appendTo( $c );
   $b.click( function() {
       t = $i.val();
       $i.val('');
       addLine( $cc , t );
   } );
   c.append( $c );
}

$('#input-button').click( function() {
     t = $('#input').val();
     $('#input').val('');
     addLine( $('#conversation') , t );
} );

</script>

</body>
</html>
